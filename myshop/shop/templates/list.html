{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h1 class="heading-primary">Fluid jumbotron</h1>
      <p class="sub-heading">This is a modified </p>
    </div>
  </div>
  <div class="cart">
    {% with total_items=cart|length %}
        {% if cart|length > 0 %}
          Your cart: 
          <a href="{% url "cart:cart_detail" %}">
            {{ total_items }} item{{ total_items|pluralize }},
            ${{ cart.get_total_price }}
          </a>
        {% else %}
          Your cart is empty.
        {% endif %}
      {% endwith %}
    </div>
<div class="container">
  <div class="row">
    <div class="col-md-4">
  <div class="sidebar">
    <h3 class="heading-tertiary">Categories</h3>
    <ul>
      <li>
        <a href="{% url 'shop:product_list' %}">All</a>
      </li>
      {% for c in categories %}
        <li>
          <a href="{{ c.get_absolute_url }}">{{ c.name }}</a>
        </li>
      {% endfor %}
    </ul>
  </div>
</div>
<div class="col-md-4"></div>
<div class="col-md-4">
  <div id="main" class="product-list">
    <h2 class="heading--secondary">{% if category %}{{ category.name }}{% else %}shirts
    {% endif %}</h2>
    {% for product in products %}
      <div class="item">
        <a href="{{ product.get_absolute_url }}">
            <img class="product-image" src="{{ product.image.url }}">
        </a>
        <a href="{{ product.get_absolute_url }}">{{ product.name }}</a>
        <br>
        ${{ product.price }}
      </div>
    {% endfor %}
    </div>
  </div>
</div>
</div>
{% endblock %}